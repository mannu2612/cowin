{"version":3,"sources":["CenterDetails.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","table","minWidth","CenterDetails","props","centers","classes","TableContainer","component","Paper","Table","className","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","row","scope","name","address","pincode","fee_type","sessions","available_capacity","vaccine","length","colSpan","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","formControl","margin","selectEmpty","marginTop","App","React","useState","districts","setDistricts","timer","setTimer","districtCode","setDistrictCode","states","setStates","rajya","setRajya","setCenters","useEffect","fetch","then","results","json","data","getDistricts","stateCode","console","log","startPolling","dc","getVaccineDetails","setInterval","date","Date","dateStr","getDate","getMonth","getFullYear","url","filter","center","has","forEach","session","min_age_limit","notify","message","msg","SpeechSynthesisUtterance","window","speechSynthesis","speak","Grid","container","item","xs","FormControl","disabled","InputLabel","id","Select","labelId","value","onChange","event","target","o","i","MenuItem","state_id","state_name","district_id","district_name","style","LinearProgress","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.131578fd.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\nfunction CenterDetails(props) {\n  const { centers } = props;\n  const classes = useStyles();\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell><b>Name</b></TableCell>\n            <TableCell align=\"left\"><b>Address</b></TableCell>\n            <TableCell align=\"left\"><b>Pincode</b></TableCell>\n            <TableCell align=\"left\"><b>Free/Paid</b></TableCell>\n            <TableCell align=\"left\"><b>Availability</b></TableCell>\n            <TableCell align=\"left\"><b>Vaccine</b></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {centers.map((row) => (\n            <TableRow key={row.name}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.name}\n              </TableCell>\n              <TableCell align=\"left\">{row.address}</TableCell>\n              <TableCell align=\"left\">{row.pincode}</TableCell>\n              <TableCell align=\"left\">{row.fee_type}</TableCell>\n              <TableCell align=\"left\">{row.sessions[0].available_capacity}</TableCell>\n              <TableCell align=\"left\">{row.sessions[0].vaccine}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n        {centers.length === 0 && (<TableBody>\n          <TableRow>\n            <TableCell align=\"center\" colSpan={6}>\n              No slots available\n        </TableCell>\n          </TableRow>\n        </TableBody>\n        )}\n      </Table>\n    </TableContainer>\n  );\n}\n\nexport default CenterDetails;\n","import './App.css';\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport CenterDetails from './CenterDetails';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [districts, setDistricts] = React.useState([]);\n  let [timer, setTimer] = React.useState(null);\n  const [districtCode, setDistrictCode] = React.useState(0);\n  const [states, setStates] = React.useState([]);\n  const [rajya, setRajya] = React.useState(1);\n  const [centers, setCenters] = React.useState([]);\n\n  React.useEffect(() => {\n    fetch('https://cdn-api.co-vin.in/api/v2/admin/location/states')\n      .then(results => results.json())\n      .then(data => {\n        setStates(data.states);\n      });\n  }, []);\n\n  const handleChange = (event) => {\n    const stateCode = event.target.value;\n    setRajya(stateCode);\n    getDistricts(stateCode)\n  };\n\n  const getDistricts = (stateCode) => {\n    fetch('https://cdn-api.co-vin.in/api/v2/admin/location/districts/' + stateCode)\n      .then(results => results.json())\n      .then(data => {\n        console.log(data)\n        setDistricts(data.districts);\n      });\n  }\n\n  const handleDistrictChange = (event) => {\n    const districtCode = event.target.value;\n    setDistrictCode(districtCode);\n    startPolling(districtCode);\n  };\n\n  const startPolling = (dc) => {\n    getVaccineDetails(dc);\n    setTimer(null);\n    timer = setInterval(() => getVaccineDetails(dc), 20000);\n    setTimer(timer);\n  }\n\n  const getVaccineDetails = (districtCode) => {\n    const date = new Date();\n    const dateStr = `${date.getDate()}-${date.getMonth()+1}-${date.getFullYear()}`\n    const url = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${districtCode}&date=${dateStr}`;\n    fetch(url)\n      .then(results => results.json())\n      .then(data => {\n        console.log(data);\n        let centers = data.centers;\n        centers = centers.filter((center) => {\n          let has = false;\n          center.sessions.forEach((session) => {\n            if (session.available_capacity >0 && session.min_age_limit===18) {\n              has = true;\n            }\n          });\n          return has;\n        })\n        if (centers.length > 0) {\n          notify(\"Vaccine available\");\n        }\n        setCenters(centers);\n      });\n  }\n\n  const notify = (message) => {\n    var msg = new SpeechSynthesisUtterance();\n    msg.text = message;\n    window.speechSynthesis.speak(msg);\n  }\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Paper className={classes.paper}>\n            <FormControl className={classes.formControl} disabled={districtCode !== 0}>\n              <InputLabel id=\"demo-simple-select-label\">Select State</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={rajya}\n                onChange={handleChange}\n              >\n                {states.map(function (o, i) {\n                  return <MenuItem key={o.state_id} value={o.state_id}>{o.state_name}</MenuItem>;\n                })}\n              </Select>\n            </FormControl>\n\n            <FormControl className={classes.formControl} disabled={districtCode !== 0}>\n\n              <InputLabel id=\"demo-simple-select-district\">Select District</InputLabel>\n              <Select\n                labelId=\"demo-simple-select-district\"\n                id=\"demo-simple-select-district\"\n                value={districtCode}\n                onChange={handleDistrictChange}\n              >\n                {districts.map(function (o, i) {\n                  return <MenuItem key={o.district_id} value={o.district_id}>{o.district_name}</MenuItem>;\n                })}\n              </Select>\n            </FormControl>\n        <p style={{color:'#17a2b8'}}>App looks for availability of vaccines in selected district every 20 seconds. Please refresh the page to select another state/district</p>\n          </Paper>\n      {districtCode !== 0 && (<LinearProgress />)}\n          <Paper>\n\n            <CenterDetails centers={centers}></CenterDetails>\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}